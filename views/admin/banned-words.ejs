<%- include('../partials/header') %>

    <div class="container">
        <div class="admin-header">
            <h1>Banned Words Management</h1>
            <nav class="admin-nav">
                <a href="/admin/dashboard">Dashboard</a>
                <a href="/admin/pending">Pending Requests</a>
                <a href="/admin/students">All Students</a>
                <a href="/admin/banned-words" class="active">Banned Words</a>
            </nav>
        </div>

        <div class="admin-form-card">
            <div class="admin-form-header">
                <svg class="admin-form-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                    <path d="M2 17l10 5 10-5"></path>
                    <path d="M2 12l10 5 10-5"></path>
                </svg>
                <h2>Add New Banned Word</h2>
            </div>
            <form action="/admin/banned-word/add" method="POST" class="admin-add-form">
                <div class="admin-form-input-group">
                    <div class="admin-form-input-wrapper">
                        <input type="text" name="word" id="bannedWordInput" placeholder="Enter word to ban" required class="admin-form-input">
                    </div>
                    <button type="submit" class="btn btn-primary admin-form-submit">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        Add Word
                    </button>
                </div>
            </form>
        </div>

        <div class="banned-words-section">
            <div class="section-header">
                <svg class="section-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                </svg>
                <h2>Current Banned Words <span class="badge-count">(<%= words.length %>)</span></h2>
            </div>
            <% if (words.length> 0) { %>
                <div class="banned-words-grid">
                    <% words.forEach(wordDoc=> { %>
                        <div class="banned-word-item">
                            <span class="word-text">
                                <%= wordDoc.word %>
                            </span>
                            <form action="/admin/banned-word/delete/<%= wordDoc._id %>" method="POST" class="delete-form">
                                <button type="submit" class="btn-delete"
                                    onclick="return confirm('Remove this word from banned list?')" title="Delete word">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="3 6 5 6 21 6"></polyline>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                                    </svg>
                                </button>
                            </form>
                        </div>
                        <% }) %>
                </div>
                <% } else { %>
                    <div class="empty-state">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" opacity="0.3">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                        <p class="empty-state-text">No banned words defined.</p>
                    </div>
                    <% } %>
        </div>

        <div class="info-box">
            <h3>ℹ️ About Content Moderation</h3>
            <p>Banned words are automatically blocked when students try to add them to their profiles. Students will be
                notified and their attempt will be logged.</p>
            <p>The system checks for whole words only, so "bad" won't block "badge".</p>
        </div>
    </div>

    <%- include('../partials/footer') %>